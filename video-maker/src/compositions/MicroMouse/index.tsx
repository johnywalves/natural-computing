import { Sequence } from "remotion";
import { MicroMouseTraining } from "./sequences/training";
import Manifesto from "../../paths/manifesto.json";

let prevFrom = 0;

const MANIFEST_TAKEN = Manifesto.map(({ episode, path }) => {
  const duration = path.length;
  const from = prevFrom;

  prevFrom = prevFrom + duration;
  return { episode, path, duration, from: from };
});

const data = [
  0x0e, 0x0a, 0x0a, 0x08, 0x0a, 0x0a, 0x0a, 0x08, 0x0a, 0x0a, 0x08, 0x0a, 0x0a,
  0x08, 0x0a, 0x09, 0x0c, 0x0a, 0x08, 0x02, 0x0a, 0x0a, 0x0a, 0x00, 0x0a, 0x0a,
  0x02, 0x0a, 0x09, 0x06, 0x08, 0x01, 0x04, 0x09, 0x05, 0x0c, 0x0a, 0x0a, 0x0a,
  0x02, 0x08, 0x0a, 0x0a, 0x0a, 0x00, 0x0b, 0x05, 0x05, 0x05, 0x05, 0x05, 0x04,
  0x0a, 0x0a, 0x0a, 0x09, 0x05, 0x0c, 0x0a, 0x0a, 0x03, 0x0c, 0x03, 0x05, 0x05,
  0x05, 0x05, 0x06, 0x0a, 0x0a, 0x09, 0x05, 0x04, 0x03, 0x0e, 0x08, 0x0a, 0x02,
  0x0b, 0x07, 0x05, 0x05, 0x06, 0x0a, 0x08, 0x0a, 0x02, 0x02, 0x03, 0x0e, 0x09,
  0x06, 0x0a, 0x0a, 0x0a, 0x09, 0x05, 0x06, 0x0a, 0x08, 0x02, 0x0a, 0x08, 0x0a,
  0x0b, 0x0c, 0x01, 0x0c, 0x08, 0x08, 0x09, 0x05, 0x04, 0x0a, 0x09, 0x06, 0x0a,
  0x09, 0x05, 0x0c, 0x09, 0x05, 0x05, 0x05, 0x05, 0x05, 0x05, 0x05, 0x05, 0x0d,
  0x04, 0x08, 0x09, 0x05, 0x05, 0x06, 0x02, 0x03, 0x04, 0x00, 0x02, 0x03, 0x05,
  0x05, 0x05, 0x05, 0x05, 0x05, 0x05, 0x05, 0x06, 0x0a, 0x09, 0x0e, 0x01, 0x06,
  0x0a, 0x0a, 0x03, 0x05, 0x05, 0x05, 0x04, 0x02, 0x02, 0x02, 0x08, 0x08, 0x01,
  0x0f, 0x06, 0x0a, 0x09, 0x0e, 0x0a, 0x01, 0x04, 0x01, 0x05, 0x0c, 0x0a, 0x0a,
  0x03, 0x05, 0x04, 0x09, 0x0e, 0x0a, 0x02, 0x08, 0x09, 0x05, 0x05, 0x05, 0x05,
  0x04, 0x0a, 0x0a, 0x0a, 0x03, 0x07, 0x06, 0x0a, 0x0a, 0x09, 0x07, 0x05, 0x05,
  0x07, 0x05, 0x05, 0x06, 0x0a, 0x0a, 0x0a, 0x08, 0x08, 0x0a, 0x0a, 0x0a, 0x00,
  0x0b, 0x05, 0x05, 0x0c, 0x03, 0x06, 0x0a, 0x0a, 0x08, 0x0a, 0x03, 0x06, 0x0a,
  0x0a, 0x0a, 0x01, 0x0c, 0x02, 0x01, 0x06, 0x0a, 0x0a, 0x0a, 0x0a, 0x02, 0x0a,
  0x0a, 0x0a, 0x0a, 0x0a, 0x0a, 0x02, 0x02, 0x0a, 0x03,
];

export const MicroMouse = () => {
  return (
    <>
      {MANIFEST_TAKEN.map(({ episode, path, duration, from }) => (
        <Sequence key={episode} from={from} durationInFrames={duration}>
          <MicroMouseTraining data={data} episode={episode} path={path} />
        </Sequence>
      ))}
    </>
  );
};
